# Recommendations & Wishlist

`tailwindcss-patch` 8.0 gives us reliable class inventories across Tailwind v2→v4, but there is still room to improve how much context we collect. This page tracks the ideas we are exploring and the helper data we would love to expose in future releases.

## Why richer metadata matters

- **Safer transforms** – knowing the file and range for each candidate lets us rewrite source code with confidence instead of doing global string replacement.
- **Auditing** – teams can answer “which file produced this class?” or “how many classes did this feature add?” without re-scanning the entire project.
- **Tooling hooks** – editor extensions or CI bots could surface unused utilities or conflicting patterns if the metadata is available.

## Candidate-level metadata (wishlist)

We would like each extracted candidate to include:

```ts
interface Candidate {
  value: string
  file: string
  start: number
  end: number
}
```

This mirrors the structure used by tools such as UnoCSS (`compile-class`) and would allow precise edits like:

```diff filename="diff"
- const className = `gap-y-4 bg-zinc-800/30`
+ const className = `a b`
```

Today we only have a `Set<string>`, so replacements must be applied broadly and may cause unintended changes.

## Tailwind v4 opportunities

The new Oxide scanner already walks source files in Rust. If it returned file offsets instead of bare strings, we could piggyback on that data instead of re-parsing user code. Relevant source: <https://github.com/tailwindlabs/tailwindcss/blob/437579d3f010a98ae4b824a7d5694486119fbdcd/crates/oxide/src/lib.rs#L108>.

## How you can help

- Share real-world cases where fine-grained metadata would have saved time.
- Experiment with custom scanners or post-processing scripts and let us know what APIs you needed.
- Open issues or pull requests if you discover hooks inside Tailwind v4 that expose the data we need.
